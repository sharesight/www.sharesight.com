# robotstxt.org/
<% if config[:env_name] == 'staging' %>
User-agent: Twitterbot
Disallow:
Allow: /
<% end %>

User-agent: *
<% if config[:env_name] == 'staging' || config[:env_name] == 'development' %>
Disallow: /
<% end %>

<% data.locales.each do |locale| %>
  <% locale.pages.select{ |locale_page| locale_page[:no_index] == true }.each do |locale_page| %>
Disallow: <%= localize_path(locale_page[:page], locale_id: locale[:id]) %>
  <% end %>
<% end %>

<% data.locales.each do |locale| %>
Disallow: <%= localize_path('/404', locale_id: locale[:id]) %>

<%# Disallow a hardcoded list of pages (external to this repo) %>
<% ['/referral-terms-and-conditions'].each do |disallow_page| %>
Disallow: <%= localize_path(disallow_page, locale_id: locale[:id]) %>
<% end %>
<% end %>

Sitemap: <%= base_url('/sitemapindex.xml') %>
<% data.locales.each do |locale| %>
Sitemap: <%= localize_url('/gatsby/sitemap-index.xml', locale_id: locale[:id]) %>
Sitemap: <%= localize_url('/sitemap.xml', locale_id: locale[:id]) %>
<% end %>
